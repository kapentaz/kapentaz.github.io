---
title: "Git ëª…ë ¹ì–´"
last_modified_at: 2021-05-16T15:00+00:00
header:
  show_overlay_excerpt: false
  overlay_image: /assets/images/post/2021/05/2021-05-16-title.jpg
  og_image: /assets/images/post/2021/05/2021-05-16-title.jpg
  overlay_filter: 0.6
  caption: "Photo by Yancy Min on Unsplash"
tags:
  - Git 
category: #ì¹´í…Œê³ ë¦¬
  - Git
toc: false
toc_label: "Table Of Contents"
toc_icon: "fal fa-list-alt"
toc_sticky: true
classes: wide
comments: true
---


gitì„ ì‚¬ìš©í•˜ê³ ëŠ” ìˆì§€ë§Œ ê·¸ë•Œê·¸ë•Œ í•„ìš”í•œ ê¸°ëŠ¥ë§Œ ì‚¬ìš©í•˜ë‹¤ ë³´ë‹ˆ ëª¨ë¥´ëŠ” ëª…ë ¹ì–´ ë˜ëŠ” ì œëŒ€ë¡œ ì•Œê³  ì‚¬ìš©í•˜ê³  ìˆì§€ ì•Šì€ ëª…ë ¹ì–´ê°€ ìˆë‹¤ëŠ” ìƒê°ì´ ë“¤ì—ˆìŠµë‹ˆë‹¤. ë³´í†µ ì—…ë¬´ë¥¼ í•  ë•ŒëŠ” íˆ´ì„ í†µí•´ì„œ ë§ì´ ì‘ì—…í•˜ë‹¤ ë³´ë‹ˆ íŠ¹íˆ ê·¸ë¬ë˜ ê²ƒ ê°™ì€ë°  ì´ë²ˆ ê¸°íšŒì— ê³µë¶€í•  ê²¸ ì •ë¦¬ë¥¼ í•œë²ˆ í•´ë´¤ìŠµë‹ˆë‹¤.

## ì„¤ì •

gitì— ê´€ë ¨ëœ ì„¤ì •ì€ `git config`ë¥¼ í†µí•´ì„œ í™•ì¸í•˜ê³  ì„¤ì •í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

```console
> git config --list            # git ì„¤ì • ì¡°íšŒ
> git config --global -e       # git ì„¤ì • í¸ì§‘
```

### ì‚¬ìš©ì ì •ë³´

gitì—ì„œ ì‘ì—… ë‚´ìš©ì„ í™•ì¸ ì‹œ ì‘ì—…ì ì •ë³´ë¥¼ í™•ì¸í•  ìˆ˜ ìˆë„ë¡ ì‚¬ìš©ì ì •ë³´ë¥¼ ì„¤ì •í•©ë‹ˆë‹¤.

```console
# ì‚¬ìš©ì ì •ë³´ ì¡°íšŒ
> git config user.name
> git config user.email

# ì‚¬ìš©ì ì„¤ì •
> git config --global user.name "í™ê¸¸ë™"
> git config --global user.email "gildong.hong@example.com"
```

### autocrlf

ìœˆë„ìš°ëŠ” ì¤„ ë°”ê¿€ì‹œ carriage-returnê³¼ line feedê°€ ì ìš©ëœ (`\r\n`)ìœ¼ë¡œ ì²˜ë¦¬í•˜ê³  ë§¥ì—ì„œ ì¤„ ë°”ê¿ˆì€ line feed(`\n`)ë¡œ ì ìš©í•˜ê¸° ì»¤ë°‹ ë‚´ì—­ ë¹„êµ ì‹œ ë¬¸ì œê°€ ë  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì´ëŸ° ë¬¸ì œë¥¼ í•´ì†Œí•˜ê¸° ìœ„í•´ì„œ autocrlfë¥¼ ì„¤ì •í•©ë‹ˆë‹¤.

```console
> git config --global core.autocrlf true   	# ìœˆë„ìš°
> git config --global core.autocrlf input		# ë§¥
```

## Git êµ¬ì¡°

![Git êµ¬ì¡°](https://raw.githubusercontent.com/kapentaz/kapentaz.github.io/master/assets/images/post/2021/05/2021-05-16-git.png)

### Working Directory

í”„ë¡œì íŠ¸ì˜ íŒŒì¼ì´ ìˆëŠ” ì˜ì—­ìœ¼ë¡œ **untracked**ì™€ **tracked**ë¡œ êµ¬ë¶„ë©ë‹ˆë‹¤. untrackedëŠ” gitì— ì•„ì§ ì¶”ê°€ë˜ì§€ ì•Šì€ (ì‹ ê·œ)íŒŒì¼ì´ê³ , trackedëŠ” gitì— ì¶”ê°€ë˜ì–´ íŠ¸ë˜í‚¹ ëŒ€ìƒ íŒŒì¼ì…ë‹ˆë‹¤. trackedëŠ”ìˆ˜ì • ì—¬ë¶€ì— ë”°ë¼ì„œ ë‹¤ì‹œ **unmodified**, **modified**ë¡œ ë‚˜ë‰©ë‹ˆë‹¤. unmodified íŒŒì¼ì€ ìˆ˜ì •ëœ ë‚´ìš©ì´ ì—†ëŠ” ìƒíƒœì´ê³ , modifiedì€ ìˆ˜ì •ëœ íŒŒì¼ì„ ì˜ë¯¸í•˜ë©° modifiedë§Œ staging areaìœ¼ë¡œ ì˜®ê²¨ê°ˆ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

### Staging Area

ì‘ì—… ì§„í–‰ ì¤‘ commití•  ì¤€ë¹„ê°€ ë˜ì–´ ìˆëŠ” íŒŒì¼ë“¤ì„ ì˜®ê²¨ë‘ëŠ” ì˜ì—­ì…ë‹ˆë‹¤. working dirctoryì—ì„œ ììœ ë¡­ê²Œ ì‘ì—…í•˜ê³  commití•  ëŒ€ìƒë§Œ ì„ íƒì ìœ¼ë¡œ ì˜®ê²¨ë‘˜ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

### Local Repository

ë¡œì»¬ì—ì„œ ë²„ì „ íˆìŠ¤í† ë¦¬ë¥¼ ì €ì¥í•˜ëŠ” ì˜ì—­ì…ë‹ˆë‹¤.

### Remote Repository

ì›ê²© ì„œë²„ì—ì„œ ë²„ì „ ê´€ë¦¬í•˜ëŠ” ì˜ì—­ì…ë‹ˆë‹¤. ë¡œì»¬ì—ì„œë§Œ ë²„ì „ ê´€ë¦¬í•˜ë‹¤ê°€ í˜¹ì‹œ ëª¨ë¥¼ ì‚¬ê³ ë¡œ ìœ ì‹¤ë  ê°€ëŠ¥ì„±ë„ ëŒ€ë¹„í•˜ê³  ë‹¤ë¥¸ ì‚¬ëŒê³¼ í•¨ê»˜ ì‘ì—…ì„ í•˜ê¸° ìœ„í•´ ì‚¬ìš©í•˜ëŠ” ì˜ì—­ì…ë‹ˆë‹¤.

## Git ëª…ë ¹ì–´

### git init

ë¡œì»¬ ì‘ì—… ê²½ë¡œì—ì„œ `git init` ëª…ë ¹ì–´ë¥¼ ì…ë ¥í•˜ë©´ local repositoryê°€ ìƒì„±ë©ë‹ˆë‹¤

```console
> git init
> ls -altr 	# ìˆ¨ê²¨ì ¸ ìˆëŠ”.git ë””ë ‰í† ë¦¬ í™•ì¸
```

ìƒˆë¡œìš´ íŒŒì¼ 2ê°œë¥¼ ë§Œë“¤ì–´ ë³´ê² ìŠµë‹ˆë‹¤.

```console
> echo hello > a.txt
> echo world > b.txt
```

### git status

`git status` ëª…ë ¹ì–´ë¥¼ ì´ìš©í•˜ë©´ gitì˜ ìƒíƒœë¥¼ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ìƒì„±í•œ íŒŒì¼ 2ê°œ ëª¨ë‘ **untracked** ìƒíƒœì¸ ê²ƒì„ ì•Œ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

```
On branch master

No commits yet

Untracked files:
  (use "git add <file>..." to include in what will be committed)
	a.txt
	b.txt

nothing added to commit but untracked files present (use "git add" to track)

```

### git add

**untracked** ìƒíƒœ íŒŒì¼ì„ gitì´ íŠ¸ë˜í‚¹í•  ìˆ˜ ìˆë„ë¡ staging areaë¡œ ì˜®ê¸¸ ë•Œ ì‚¬ìš©í•˜ëŠ” ëª…ë ¹ì–´ì…ë‹ˆë‹¤.

```
> git add a.txt
> git status
```

```
On branch master

No commits yet

Changes to be committed:
  (use "git rm --cached <file>..." to unstage)
	new file:   a.txt

Untracked files:
  (use "git add <file>..." to include in what will be committed)
	b.txt
```

ì´ë²ˆì—ëŠ” a.txtì— ë‚´ìš©ì„ ìˆ˜ì •í•˜ê³  í™•ì¸í•´ë³´ë©´ modified ìƒíƒœì¸ ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

```
> echo add >> a.txt
> git status
```

```
On branch master

No commits yet

Changes to be committed:
  (use "git rm --cached <file>..." to unstage)
	new file:   a.txt

Changes not staged for commit:
  (use "git add <file>..." to update what will be committed)
  (use "git restore <file>..." to discard changes in working directory)
	modified:   a.txt

Untracked files:
  (use "git add <file>..." to include in what will be committed)
	b.txt
```

unstageí•˜ê³  ì‹¶ì„ ë•ŒëŠ” `git rm --cached <file>...` ëª…ë ¹ì–´ë¥¼ ì‚¬ìš©í•˜ê³  working directoryì— ìˆëŠ” ë³€ê²½ì‚¬í•­ì„ ì‚­ì œí•˜ë ¤ë©´ `git restore <file>...`ì„ ì‚¬ìš©í•©ë‹ˆë‹¤.

untracked íŒŒì¼ì„ ì‚­ì œí•˜ê³  ì‹¶ì€ ê²½ìš°ì—ëŠ” `git clean`ì„ ì´ìš©í•©ë‹ˆë‹¤.

```
> git clean -fd	
```


### git diff

ë³€ê²½ëœ ë‚´ìš©ì— ëŒ€í•´ì„œ í™•ì¸í•  ë•Œ ì‚¬ìš©í•©ë‹ˆë‹¤. `git diff`ë¼ê³  í•˜ë©´ working directoryì— ìˆëŠ” ë‚´ìš©ê³¼ staging areaì— ìˆëŠ” ë‚´ìš©ì„ ë¹„êµí•©ë‹ˆë‹¤.

```
> git diff a.txt
```

```
diff --git a/a.txt b/a.txt
index ce01362..dff93d4 100644
--- a/a.txt
+++ b/a.txt
@@ -1 +1,2 @@
 hello
+add
```

`--staged` ì˜µì…˜ì„ ì´ìš©í•˜ë©´ staging areaì— ìˆëŠ” a.txtì™€ local repositoryì— ìˆëŠ” ë‚´ìš©ì„ ë¹„êµí•  ìˆ˜ ìˆë‹¤.

```
> git diff --staged a.txt
```

```
diff --git a/a.txt b/a.txt
new file mode 100644
index 0000000..ce01362
--- /dev/null
+++ b/a.txt
@@ -0,0 +1 @@
+hello
```

ì»¤ë°‹ê³¼ ë¸Œëœì¹˜ ë³„ë¡œ ë¹„êµí•  ìˆ˜ë„ ìˆìŠµë‹ˆë‹¤.

```
> git diff <branch1>..<branch2>
> git diff <commit1>..<commit2>
```

### git commit

staging areaì— ìˆëŠ” ë³€ê²½ ë‚´ìš©ì„ local reposiotryì— ì €ì¥í•  ë•Œ ì‚¬ìš©í•©ë‹ˆë‹¤.

```
> git commit
```

commit ëª…ë ¹ì–´ë¥¼ ì‹¤í–‰í•˜ë©´ í¸ì§‘ì°½ì´ ë‚˜íƒ€ë‚˜ëŠ”ë° ë³´í†µì€ ì²«ë²ˆì§¸ ì¤„ì— commit ì œëª©, ê·¸ ì•„ë˜ì— ìƒì„¸ ì„¤ëª…ì„ ì‘ì„±í•©ë‹ˆë‹¤.

```
commit ë‚´ìš©

commit ì„¤ëª…
# Please enter the commit message for your changes. Lines starting
# with '#' will be ignored, and an empty message aborts the commit.
#
# On branch master
#
# Initial commit
#
# Changes to be committed:
#       new file:   a.txt
#
# Changes not staged for commit:
#       modified:   a.txt
#
# Untracked files:
#       b.txt
#
```

commit ë©”ì‹œì§€ë¥¼ ì¢€ ë” ê°„ë‹¨í•˜ê²Œ ì²˜ë¦¬í•˜ê³  ì‹¶ì„ ë•ŒëŠ” `-m` ì˜µì…˜ì„ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

```
> git commit -m "ì»¤ë°‹ ë©”ì‹œì§€"
```

working directoryì™€ staging areaì— ìˆëŠ” ëª¨ë“  ë‚´ìš©ì„ commit í•  ë•ŒëŠ” `-a`ì˜µì…˜ì„ ì‚¬ìš©í•˜ë©´ ë©ë‹ˆë‹¤.

```
> git commit -am "ì»¤ë°‹ ë©”ì‹œì§€"
```

#### amend

ì´ë¯¸ commití•œ ë©”ì‹œì§€ë¥¼ ìˆ˜ì •í•˜ê³  ì‹¶ì€ ê²½ìš°

```
> git commit --amend -m "ìƒˆë¡œìš´ ì»¤ë°‹ ë©”ì‹œì§€"
```

ìµœì‹  commitì— staging areaì— ìˆëŠ” ë‚´ìš©ì„ ì¶”ê°€ ì ìš©í•˜ê³  ì‹¶ì„ ë•Œ

```
> git commit --amend 
```

> :warning: amendë¥¼ ì‚¬ìš©í•´ì„œ commitì„ ë³€ê²½í•˜ê²Œ ë˜ë©´ ìƒˆë¡œìš´ í•´ì‹œì½”ë“œë¡œ commit idê°€ ë§Œë“¤ì–´ì§€ê¸° ë•Œë¬¸ì— ì´ë¯¸ originì— ìˆëŠ” commitì¼ ê²½ìš°ì—ëŠ” ì‚¬ìš©í•˜ì§€ ì•ŠëŠ” ê²ƒì´ ì¢‹ìŠµë‹ˆë‹¤.


> :warning:  ì ì • commit ë‹¨ìœ„ëŠ”?
> í™•ì‹¤í•œ ê¸°ì¤€ì€ ì—†ìŠµë‹ˆë‹¤. í•˜ì§€ë§Œ ê¸°ëŠ¥ë³„ì´ë‚˜ ì˜ë¯¸ìˆëŠ” ë‹¨ìœ„ë¡œ í•˜ëŠ”ê²ƒì´ ì¢‹ìŠµë‹ˆë‹¤. ê·¸ë¦¬ê³  ì‘ì—…í•˜ëŠ” ê¹€ì— ì´ê²ƒì €ê²ƒ ìˆ˜ì •í•´ì„œ í•œë²ˆì— commit í•˜ë ¤ê³  í•˜ëŠ” ê²½ìš°ê°€ ìˆëŠ”ë°  ì´ëŸ´ ê²½ìš°  commit ë‹¨ìœ„ë¡œ ë¹„êµí•˜ê±°ë‚˜ ìˆ˜ì •ì‘ì—…ì„ í•  ê²½ìš° ê´€ë¦¬í•˜ê¸°ê°€ í˜ë“¤ì–´ì§ˆ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ê²½í—˜ìƒìœ¼ë¡œëŠ” íˆìŠ¤í† ë¦¬ë¥¼ í™•ì¸í•˜ê³  ë‚´ìš©ì„ íŒŒì•…í•˜ê¸° ì¢‹ì€ ì •ë„ê°€ ì ë‹¹í•©ë‹ˆë‹¤.



### git log

commit ë¡œê·¸ë¥¼ í™•ì¸í•  ë•Œ ì‚¬ìš©í•©ë‹ˆë‹¤.

```console
> git log -5											# ìµœê·¼ 5ê°œë§Œ ì¡°íšŒ
> git log --online -5							# í•œì¤„ë¡œ ìµœê·¼ 5ê°œë§Œ ì¡°íšŒ
> git log --author="ì €ì"			 		 # authorë¡œ ê²€ìƒ‰
> git log --before="2021-05-09"   # íŠ¹ì • ë‚ ì§œ ì´ì „ìœ¼ë¡œ ê²€ìƒ‰
> git log --grep="text"    				# commit ë‚´ìš©ì¤‘ì— "text"ê°€ ë“¤ì–´ê°„ ë°ì´í„° ê²€ìƒ‰
> git log -S "text" -p       			# commit ì†ŒìŠ¤ ì»¨í…ì¸  ì¤‘ì—ì„œ "text"ë¬¸ìê°€ ë“¤ì–´ê°„ commit ê²€ìƒ‰
```

#### git hist

`git log`ë¥¼ alias ë“±ë¡í•´ì„œ ì‚¬ìš©í•˜ë©´ ì¢€ ë” í¸ë¦¬í•˜ê²Œ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. [ì°¸ê³ ](https://gist.github.com/isaldin/85b10d6ae66938ca6035)

```
git config --global alias.hist "log --pretty=format:'%C(yellow)[%ad]%C(reset) %C(green)[%h]%C(reset) | %C(red)%s %C(bold red){{%an}}%C(reset) %C(blue)%d%C(reset)' --graph --date=short"
```

### git reflog

ì´ì „ HEAD ë‚´ìš©ë“¤ì„ ê¸°ì–µí•˜ê³  ìˆì–´ì„œ. ì›í•˜ëŠ” ì‹œì ìœ¼ë¡œ ë˜ëŒì•„ ê°ˆ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

```
> git reflog
> git reset --hard <í•´ì‹œì½”ë“œ>
```

### git reset

íŠ¹ì • commitìœ¼ë¡œ ì´ˆê¸°í™” ì‹œì¼œì£¼ëŠ” ëª…ë ¹ì–´ì…ë‹ˆë‹¤.

```
> git reset HEAD~1	# HEAD ì´ì „ìœ¼ë¡œ reset
```

#### mixed

default ì˜µì…˜. `--mixed` ì˜µì…˜ì€ íˆìŠ¤í† ë¦¬ëŠ” ì‚­ì œí•˜ì§€ë§Œ ì‘ì—…í•œ íŒŒì¼ì€ working directoryë¡œ ì´ë™í•©ë‹ˆë‹¤.

#### soft

`--sort` ì˜µì…˜ì„ ì ìš©í•˜ë©´ ì‘ì—…í•œ íŒŒì¼ì€ working directoryê°€ ì•„ë‹ˆë¼ staging area ì˜ì—­ìœ¼ë¡œ ì´ë™í•©ë‹ˆë‹¤.

```
> git reset --soft HEAD~2
```

#### hard

`--hard`ëŠ” ì‘ì—…í–ˆë˜ íŒŒì¼ì„ ê·¸ëƒ¥ ì™„ì „íˆ ì§€ìš¸ ë•Œ ì‚¬ìš©í•©ë‹ˆë‹¤.

```
> git reset --hard HEAD 	# ë¡œì»¬ì—ì„œ ì‘ì—…í•˜ë˜ ëª¨ë“  íŒŒì¼ì´ ì‚­ì œë¨
```

> :warning: ê¸°ì¡´ commitì„ resetí•˜ê²Œ ë˜ë©´ ìƒˆë¡œìš´ í•´ì‹œì½”ë“œë¡œ commit idê°€ ë§Œë“¤ì–´ì§€ê¸° ë•Œë¬¸ì— ì´ë¯¸ originì— ìˆëŠ” commitì¼ ê²½ìš°ì—ëŠ” ì‚¬ìš©í•˜ì§€ ì•ŠëŠ” ê²ƒì´ ì¢‹ìŠµë‹ˆë‹¤. ì´ë¯¸ originì— ì ìš©ë˜ì–´ ìˆëŠ” commitì´ë¼ë©´ resetì´ ì•„ë‹ˆë¼ revertë¥¼ ì‚¬ìš©í•´ì•¼ í•©ë‹ˆë‹¤.



### git push

Local repositoryì—ì„œ ì‘ì—…í•œ ë‚´ìš©ì„ remote ì €ì¥ì†Œì— ì ìš©í•  ë•Œ ì‚¬ìš©í•©ë‹ˆë‹¤.

```
>  git remote add <name> <url>							# ì›ê²© ì €ì¥ì†Œê°€ ì„¤ì •ë˜ì–´ ìˆì§€ ì•Šì€ ê²½ìš° 
>  git push --set-upstream <name> <branch>	# upstream ë¸Œëœì¹˜ seì„¤ì •
```

#### tracking

í˜„ì¬ local ë¸Œëœì¹˜ê°€ ì–´ë–¤ remote ë¸Œëœì¹˜ë¥¼ tracking í•˜ê³  ìˆëŠ”ì§€ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

```
> git status -sb
```

### git branch

ë¸Œëœì¹˜ ìƒì„±/ì¡°íšŒ/ìˆ˜ì •/ì‚­ì œ ë“±ì„ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

```console
> git branch      										# ë¡œì»¬ì— ìˆëŠ” ë¸Œëœì¹˜ ì¡°íšŒ
> git branch --all 										# ì›ê²© í¬í•¨ ì „ì²´ ì¡°íšŒ
> git branch feature1   							# ìƒˆë¡œìš´ ë¸Œëœì¹˜ ìƒì„±
> git branch feature1 origin/master		# origin/masterë¡œ ë¶€í„° ë¸Œëœì¹˜ ìƒì„±
> git branch --move feature1 feature2 # ë¸Œëœì¹˜ ì´ë¦„ ë³€ê²½
> git branch -d <ë¸Œëœì¹˜ì´ë¦„>							# ë¸Œëœì¹˜ ì‚­ì œ
```



### git merge

í˜„ì¬ ë¸Œëœì¹˜ì— ë‹¤ë¥¸ ë¸Œëœì¹˜ë¥¼ merge í•  ë•ŒëŠ” ì‚¬ìš©í•˜ëŠ” ëª…ë ¹ì–´ì…ë‹ˆë‹¤.

```
> git merge feature1
```

#### fast forward merge

ê¸°ì¤€ ë¸Œëœì¹˜ì—ì„œ ìƒˆë¡œ ìƒì„±í•œ ë¸Œëœì¹˜ë¥¼ ìƒì„±í•˜ê³  ì´í›„ì— ì¶”ê°€ëœ commitì´ ì—†ë‹¤ë©´ ì œì¼ ê¹”ë”í•˜ê²Œ ë¨¸ì§€ í•˜ëŠ” ë°©ë²•. ë„ˆë¬´ ê¹”ë”í•œ ë‚˜ë¨¸ì§€ ë¸Œëœì¹˜ì— mergeê°€ ë˜ì—ˆë‹¤ëŠ” ê¸°ë¡ì¡°ì°¨ ë‚¨ì§€ ì•ŠëŠ”ë‹¤.


![Fast Forward Merge](https://raw.githubusercontent.com/kapentaz/kapentaz.github.io/master/assets/images/post/2021/05/2021-05-16-merge-ff.png)

#### 3-way merge

feature ë¸Œëœì¹˜ì™€ master ë¸Œëœì¹˜ê°€ í•©ì³ì§„ merge commitì´ ë§Œë“¤ì–´ì§„ í˜•íƒœì…ë‹ˆë‹¤. mergeí•œ ê¸°ë¡ì´ ë‚¨ìŠµë‹ˆë‹¤.

![3-way merge](https://raw.githubusercontent.com/kapentaz/kapentaz.github.io/master/assets/images/post/2021/05/2021-05-16-merge-3way.png)



### git rebase

3-way mergeë¥¼ í•˜ê²Œ ë˜ë©´ íˆìŠ¤í† ë¦¬ì— ìƒˆë¡œìš´ merge commitì´ ìƒê¸°ê²Œ ë©ë‹ˆë‹¤. ë§Œì•½ ì´ê²Œ ì‹«ë‹¤ë©´ ìœ„ ì´ë¯¸ì§€ ê¸°ì¤€ìœ¼ë¡œ masterë¥¼ rebaseí•˜ê³  mergeí•˜ë©´ fast forward mergeë¡œ ì²˜ë¦¬í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

```
> git switch feature1
> git rebase master
> git switch master
> git merge feature1
```

![rebase](https://raw.githubusercontent.com/kapentaz/kapentaz.github.io/master/assets/images/post/2021/05/2021-05-16-rebase.png)

í•˜ì§€ë§Œ ì¡°ì‹¬í•´ì•¼ í•  ê²Œ ìˆëŠ”ë° feature ë¸Œëœì¹˜ì—ì„œ í˜¼ì ì‘ì—…í•˜ê³  ìˆë‹¤ë©´ ìƒê´€ì—†ì§€ë§Œ ì—¬ëŸ¬ ëª…ì´ í•¨ê»˜ ì‘ì—…í•˜ê³  ìˆë‹¤ë©´ rebaseë¥¼ í•˜ê²Œ ë˜ë©´ ê¸°ì¡´ commitì„ ìœ ì§€í•˜ëŠ” ê²Œ ì•„ë‹ˆë¼ì„œ ìƒˆë¡œìš´ commitì´ ìƒì„±ë˜ê¸° ë•Œë¬¸ì— ë‹¤ë¥¸ ê°œë°œìë“¤ê³¼ í•¨ê»˜ ì‘ì—…í•˜ê³  ìˆëŠ” ë¸Œëœì¹˜ë¼ë©´ ì‚¬ìš©í•˜ì§€ ì•ŠëŠ” ê²ƒì´ ì¢‹ìŠµë‹ˆë‹¤.



#### onto

ë¸Œëœì¹˜ì—ì„œ ë¸Œëœì¹˜ë¥¼ ê³„ì† ìƒì„±í•´ì„œ ì‘ì—…í•˜ëŠ” ê²½ìš°ì— íŠ¹ì • ë¸Œëœì¹˜ë§Œ ë”°ë¡œ ì ìš©ë˜ì–´ì•¼ í•˜ëŠ” ê²½ìš°ê°€ ìˆì„ ìˆìŠµë‹ˆë‹¤. ì´ëŸ´ ê²½ìš°ì—ëŠ” `rebase --onto`ë¥¼ ì‚¬ìš©í•˜ë©´ ì‰½ê²Œ í•´ê²°í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

ì´ê²ƒë„ ì—­ì‹œ ë‹¤ë¥¸ ê°œë°œìì™€ í•¨ê»˜ ì‚¬ìš©í•˜ëŠ” ë¸Œëœì¹˜ê³  ì´ë¯¸ ì„œë²„ì— ì˜¬ë¼ê°€ ìˆë‹¤ë©´ commit ì •ë³´ê°€ ë³€ê²½ë˜ê¸° ë•Œë¬¸ì— ì¡°ì‹¬í•  í•„ìš”ê°€ ìˆìŠµë‹ˆë‹¤.


```
> git rebase --onto master feature1 feature1-1
> git switch master
> git merge feature1-1
```

![rebase onto](https://raw.githubusercontent.com/kapentaz/kapentaz.github.io/master/assets/images/post/2021/05/2021-05-16-rebase-onto.png)

#### commit ë¶„í• 

commití•œ ë‚´ìš©ì„ ë¶„í• í•˜ê³  ì‹¶ì„ ê²½ìš°ì—ë„ rebaseë¥¼ ì´ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

```
> git rebase -i <commit>	# commit idëŠ” ë¶„í• í•˜ë ¤ê³  í•˜ëŠ” ì»¤ë°‹ì˜ ì´ì „ìœ¼ë¡œ ì„¤ì •
```

ìœ„ ëª…ë ¹ì–´ë¥¼ ì…ë ¥í•˜ê³  ë‚˜ë©´ ì•„ë˜ì™€ ê°™ì€ í¸ì§‘ì°½ì´ ë‚˜ì˜¤ê³  ë‚˜ëˆŒë ¤ê³  í•˜ëŠ”ë° commitì„ `pick`ì—ì„œ `e`ë˜ëŠ” `edit`ë¡œ ë³€ê²½í•©ë‹ˆë‹¤.

```
pick 585c3cd add and modify
pick bd003b9 delete

# Rebase 7cd6a02..bd003b9 onto 7cd6a02 (2 commands)
#
# Commands:
# p, pick <commit> = use commit
# r, reword <commit> = use commit, but edit the commit message
# e, edit <commit> = use commit, but stop for amending
# s, squash <commit> = use commit, but meld into previous commit
# f, fixup <commit> = like "squash", but discard this commit's log message
# x, exec <command> = run command (the rest of the line) using shell
# b, break = stop here (continue rebase later with 'git rebase --continue')
# d, drop <commit> = remove commit
# l, label <label> = label current HEAD with a name
# t, reset <label> = reset HEAD to a label
# m, merge [-C <commit> | -c <commit>] <label> [# <oneline>]
# .       create a merge commit using the original merge commit's
# .       message (or the oneline, if no original merge commit was
# .       specified). Use -c <commit> to reword the commit message.
#
# These lines can be re-ordered; they are executed from top to bottom.
#
# If you remove a line here THAT COMMIT WILL BE LOST.
#
# However, if you remove everything, the rebase will be aborted.
```

ì´ì œ commitì„ ë¶„í• í•˜ê¸° ìœ„í•´ì„œ ì›í•˜ëŠ” ìœ„ì¹˜ë¡œ reset í•©ë‹ˆë‹¤.

```
> git reset <commit>		# commit idëŠ” ë¶„í• í•˜ë ¤ê³  í•˜ëŠ” ì»¤ë°‹ì˜ ì´ì „ìœ¼ë¡œ ì„¤ì •
```

resetì„ í†µí•´ì„œ working directoryë¡œ ì´ë™í•œ íŒŒì¼ì„ ê°ê° ë¶„í• í•´ì„œ commit í•˜ê³  rebaseë¥¼ ê³„ì† ì§„í–‰í•©ë‹ˆë‹¤.

```
> git rebase --continue
```

ì´ì œ ë¡œê·¸ë¥¼ í™•ì¸í•´ë³´ë©´ commitì´ ë¶„í• ë˜ì–´ ìƒì„±ëœ ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

#### squash

ì—¬ëŸ¬ commitì„ í•˜ë‚˜ì˜ commitìœ¼ë¡œ í•©ì¹˜ê³  ì‹¶ì€ ê²½ìš°ì— ì‚¬ìš©í•©ë‹ˆë‹¤. commitì„ ë¶„í• í•  ë•Œì™€ ë™ì¼í•˜ê²Œ rebaseë¥¼ ë¨¼ì € ì‹¤í–‰í•©ë‹ˆë‹¤.

```
> git rebase -i <commit>	# commit idëŠ” ë¶„í• í•˜ë ¤ê³  í•˜ëŠ” ì»¤ë°‹ì˜ ì´ì „ìœ¼ë¡œ ì„¤ì •
```

í•©ì¹ ë ¤ê³  í•˜ëŠ” commitì˜ ì²«ë²ˆì§¸ëŠ” pickë¡œ í•˜ê³  ë‚˜ë¨¸ì§€ëŠ” squash(s)ë¡œ ë³€ê²½í•˜ê³  ì €ì¥í•©ë‹ˆë‹¤.

```
pick 835ab40 modify a.txt
s d7a4db6 add b.txt
s b9012d4 delete

# Rebase 7cd6a02..b9012d4 onto 7cd6a02 (3 commands)
#
# Commands:
# p, pick <commit> = use commit
# r, reword <commit> = use commit, but edit the commit message
# e, edit <commit> = use commit, but stop for amending
# s, squash <commit> = use commit, but meld into previous commit
# f, fixup <commit> = like "squash", but discard this commit's log message
# x, exec <command> = run command (the rest of the line) using shell
# b, break = stop here (continue rebase later with 'git rebase --continue')
# d, drop <commit> = remove commit
# l, label <label> = label current HEAD with a name
# t, reset <label> = reset HEAD to a label
# m, merge [-C <commit> | -c <commit>] <label> [# <oneline>]
# .       create a merge commit using the original merge commit's
# .       message (or the oneline, if no original merge commit was
# .       specified). Use -c <commit> to reword the commit message.
#
# These lines can be re-ordered; they are executed from top to bottom.
#
# If you remove a line here THAT COMMIT WILL BE LOST.
#
# However, if you remove everything, the rebase will be aborted.
```

squash ë˜ê³  ë‚˜ë©´ commit ë©”ì‹œì§€ë¥¼ ì…ë ¥í•˜ëŠ” í™”ë©´ì´ ë‚˜ì˜¤ëŠ”ë° ìƒˆë¡œìš´ commit ë©”ì‹œì§€ë¥¼ ì…ë ¥í•˜ê³  ì €ì¥í•˜ë©´ í•˜ë‚˜ë¡œ í•©ì³ì§„ ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

### git revert

ì•ì„œ í™•ì¸í–ˆë˜ reset, rebase ëª¨ë‘ ë‹¤ë¥¸ ì‚¬ëŒê³¼ í•¨ê»˜ ì‘ì—…í•˜ëŠ” ë¸Œëœì¹˜ì´ê³  ì´ë¯¸ remoteì— ë°˜ì˜ëœ ë‚´ìš©ì´ë¼ë©´ ì‚¬ìš©í•˜ë©´ ì•ˆ ë©ë‹ˆë‹¤. ìƒˆë¡œìš´ commit idê°€ ìƒì„±ë˜ê¸° ë•Œë¬¸ì— ë‹¤ë¥¸ ì‚¬ëŒê³¼ ë³‘í•©í•˜ëŠ” ê³¼ì •ì—ì„œ ë¬¸ì œê°€ ìƒê¸¸ ìˆ˜ ìˆê¸° ë•Œë¬¸ì…ë‹ˆë‹¤.

ì´ë¯¸ remoteì— ë°˜ì˜ëœ ë‚´ìš©ì„ ë˜ëŒë¦¬ê³  ì‹¶ì€ ê²½ìš°ì—ëŠ” revertë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤. revertë¥¼ í•˜ë©´ ì˜ˆì „ìœ¼ë¡œ ë˜ëŒë¦¬ëŠ” ìƒˆë¡œìš´ commitì´ ìƒì„±ë©ë‹ˆë‹¤.

```
> git revert <commmit>
```


### git tag

commitì´ ë§ì•„ì§€ê³  íˆìŠ¤í† ë¦¬ê°€ ë§ì•„ì§€ê²Œ ë˜ë©´ ì–´ëŠ íŠ¹ì •í•œ ì‹œì ìœ¼ë¡œ ëŒì•„ê°€ê¸°ê°€ í˜ë“¤ ìˆ˜ ìˆìŠµë‹ˆë‹¤.  ì´ëŸ° ê²½ìš°ë¥¼ ìœ„í•´ì„œ íŠ¹ì • commit ì„ ë¶ë§ˆí¬ í•˜ê³  ì‹¶ì„ ë•Œ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

```
> git tag <íƒœê·¸>
> git tag <íƒœê·¸> <commit> # íŠ¹ì • ì»¤ë°‹ì— íƒœê·¸ ì ìš©
```



### git fetch

remoteì— ë³€ê²½ì‚¬í•­ì„ ë°›ì•„ì˜µë‹ˆë‹¤.

```
> git fetch
```

### git pull

remoteì— ë³€ê²½ì‚¬í•­ì„ ë°›ì•„ì˜¤ê³  merge í•©ë‹ˆë‹¤.

```
> git pull
```

### git cherry-pickğŸ’

íŠ¹ì • commitì„ í˜„ì¬ ë¸Œëœì¹˜ì— ê°€ì ¸ì˜¬ ë•Œ ì‚¬ìš©í•©ë‹ˆë‹¤.

```
> git cherry-pick <ê°€ì ¸ì˜¬ì»¤ë°‹ì½”ë“œ>
```


### git stash

ì‘ì—… ë‚´ìš©ì„ ì ì‹œ ë³„ë„ì˜ ê³µê°„ì— ì €ì¥í•˜ê¸° ìœ„í•´ ì‚¬ìš©í•©ë‹ˆë‹¤. ë‹¤ë¥¸ ì‘ì—…ì„ ì§„í–‰í•´ì•¼ í•˜ê±°ë‚˜ ë‹¤ë¥¸ ë¸Œëœì¹˜ ë‚´ìš©ì„ í™•ì¸í•˜ê¸° ìœ„í•´ì„œ ì´ë™í•´ì•¼ í•  ë•Œ ìœ ìš©í•˜ê²Œ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

```
> git stash
> git stash -m "first"								# ë©”ì‹œì§€ì™€ í•¨ê»˜ stash ì¶”ê°€
> git stash -m "first" --keep-index		# staging areaì— ìˆëŠ” ë‚´ìš©ì€ ì œì™¸

> git stash -u 			# untracking íŒŒì¼ë„ ì¶”ê°€í•˜ê³  ì‹¶ì€ ê²½ìš° 

> git stash list 							# stash  ë‚´ìš© ì¡°íšŒ
> git stash show <stash id>		# stash  ìƒì„¸ ì¡°íšŒ

> git stash apply <stash id>	# ì˜®ê²¨ì˜¤ëŠ”ë§Œ í•  ê²½ìš°
> git stash pop <stash id>		# ì˜®ê²¨ì˜¤ë©´ì„œ ëª©ì—ì„œëŠ” ì‚­ì œí•¨
> git stash drop <stash id>		# stash ì‚­ì œ
> git stash clear							# stash ì „ì²´ ì‚­ì œ
```

## ë§ˆë¬´ë¦¬

ì§€ê¸ˆê¹Œì§€ gitì˜ ê¸°ë³¸ ì„¤ì •, êµ¬ì¡°, ëª…ë ¹ì–´ ëŒ€í•´ì„œ í™•ì¸í•´ ë´¤ìŠµë‹ˆë‹¤. ë¹ ì§„ ë‚´ìš©ë„ ìˆì§€ë§Œ ì´ ì •ë„ë§Œ ì•Œê³  ìˆì–´ë„ ì‹¤ì œ ì—…ë¬´ ì§„í–‰ì—ëŠ” ì–´ë ¤ì›€ì´ ì—†ì„ ê²ƒì´ë¼ ìƒê°ë©ë‹ˆë‹¤.

ë.